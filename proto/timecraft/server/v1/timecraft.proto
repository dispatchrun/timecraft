syntax = "proto3";

package timecraft.server.v1;

message ParentRequest {}

message ParentResponse {
    bool root = 1;
    string parent_id = 2;
}

message SpawnRequest {
    string path = 1;
    repeated string args = 2;
}

message SpawnResponse {
    string process_id = 1;
}

message KillRequest {
    string process_id = 1;
}

message KillResponse {
    bool success = 1;
    string error_message = 2;
}

message VersionRequest {}

message VersionResponse {
    string version = 1;
}

service TimecraftService {
  rpc Parent(ParentRequest) returns (ParentResponse) {}
  rpc Spawn(SpawnRequest) returns (SpawnResponse) {}
  rpc Kill(KillRequest) returns (KillResponse) {}
  rpc Version(VersionRequest) returns (VersionResponse) {}
}
